<h2 class="list">List of Workflows</h2>

<div class="Workflow-animation" *ngIf="showAnimation">
  <dotlottie-player
    src="https://lottie.host/1d122e37-3a2a-4fd8-9f51-b10fda50854b/GGuxKt05vL.lottie"
    background="transparent"
    speed="2"
    loop
    autoplay
    style="width: 80%; max-width: 600px; height: auto;">
  </dotlottie-player>
</div>




  <div class="export-buttons">
    <button class="btn btn-success" (click)="exportToExcel()">ğŸ“‚ Export to Excel</button>
    <input
      type="text"
      class="search-input"
      [(ngModel)]="searchText"
      placeholder="Search Workflows..."
    />
    <button class="btn btn-danger" (click)="exportToPDF()">ğŸ“ Export to PDF</button>
  </div>

  <!-- Bouton "Add a Workflow" -->
  <div class="d-flex justify-content-center mb-4">
    <button class="btn btn-primary btn-extraordinary w-100 w-md-auto" [routerLink]="['/workflows/add']">
      â• Add a Workflow
    </button>
  </div>


  <!-- Table des workflows -->
  <div class="table-responsive">
    <table class="table table-striped table-hover table-bordered shadow-lg rounded">
      <thead class="thead-dark">
      <tr>
        <th>Workflow Name</th>
        <th>Steps</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let workflow of filteredWorkflows()">
        <td>{{ workflow.workflowName }}</td>
        <td>{{ workflow.steps.join(', ') }}</td>
        <td>
          <div class="btn-container d-flex justify-content-center">
            <button class="btn btn-warning btn-sm mx-1" [routerLink]="['/workflows/edit', workflow.id]">
              âœï¸ Update
            </button>
            <button class="btn btn-danger btn-sm mx-1" (click)="deleteWorkflow(workflow.id)">
              ğŸ—‘ï¸ Delete
            </button>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

